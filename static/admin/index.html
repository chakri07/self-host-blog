<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Content Manager</title>
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <script src="https://unpkg.com/decap-cms@3.10.1/dist/decap-cms.js"></script>
  </head>
  <body>
    <!-- This is where the Decap CMS will be mounted -->
    <script>
      // Wait for the Decap CMS script to load, then initialize
      function initDecap() {
        if (typeof CMS === 'undefined') {
          console.error('Decap CMS global CMS is undefined.');
          return;
        }
        CMS.init({
          config: '/admin/config.yml',
        });
      }

      if (document.readyState === 'complete' || document.readyState === 'interactive') {
        initDecap();
      } else {
        window.addEventListener('DOMContentLoaded', initDecap);
      }
    </script>
  </body>
</html>