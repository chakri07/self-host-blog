<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Content Manager</title>
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <script src="https://unpkg.com/decap-cms@3.10.1/dist/decap-cms.js"></script>
  </head>
  <body>
    <!-- This is where the Decap CMS will be mounted -->
    <script>
      // Initialize Decap CMS using the global attached to window
      function initDecap() {
        var cms = window.CMS || window.DecapCms;
        if (!cms) {
          console.error('Decap CMS object not found on window.');
          return;
        }
        cms.init({
          config: '/admin/config.yml',
        });
      }

      if (document.readyState === 'complete' || document.readyState === 'interactive') {
        initDecap();
      } else {
        window.addEventListener('DOMContentLoaded', initDecap);
      }
    </script>
  </body>
</html>