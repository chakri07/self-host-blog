/* Slick dark-mode editorial theme */
:root {
  --color-bg: #141926;
  --color-surface: #1b2236;
  --color-surface-raised: #202a40;
  --color-border: rgba(255, 255, 255, 0.07);
  --color-primary: #eef1f8;
  --color-text: #b4bdd0;
  --color-muted: #52596e;

  /* Accent – deep teal slate */
  --color-accent: #2A3D45;
  --color-accent-mid: #3a5560;
  --color-accent-dim: rgba(42, 61, 69, 0.35);

  /* Highlight – bright seafoam, luminous sibling of the accent */
  --color-highlight: #4ECBA5;
  --color-highlight-dim: rgba(78, 203, 165, 0.15);

  /* Gradients */
  --gradient-accent: linear-gradient(135deg, #2A3D45 0%, #3a5a60 100%);
  --gradient-highlight: linear-gradient(135deg, #4ECBA5 0%, #62DDB8 100%);
  --gradient-title: linear-gradient(135deg, #eef1f8 0%, #4ECBA5 100%);
  --gradient-card-border: linear-gradient(135deg, rgba(78,203,165,0.22) 0%, rgba(42,61,69,0.35) 50%, transparent 100%);

  /* Shadows – 3-layer floating system */
  /* Resting: card sitting flat, close to the surface */
  --shadow-card:
    0 1px 1px rgba(0,0,0,0.8),
    0 2px 6px rgba(0,0,0,0.55),
    0 6px 16px rgba(0,0,0,0.35),
    0 0 0 1px rgba(78,203,165,0.06);

  /* Hover: card has risen ~16px off the surface.
     Contact shadow stays tight under the card (simulates base footprint).
     Diffuse shadow spreads wide & goes soft (simulates real lift height).
     Teal glow adds the luminous "lit from above" feel. */
  --shadow-hover:
    0 2px 3px rgba(0,0,0,0.9),
    0 8px 12px rgba(0,0,0,0.7),
    0 24px 48px rgba(0,0,0,0.55),
    0 48px 80px rgba(0,0,0,0.35),
    0 0 0 1px rgba(78,203,165,0.22),
    0 0 80px rgba(42,61,69,0.45);

  --shadow-soft: 0 1px 2px rgba(0, 0, 0, 0.5), 0 8px 32px rgba(0, 0, 0, 0.4);
  --shadow-accent-glow: 0 0 0 1px rgba(78, 203, 165, 0.2), 0 8px 40px rgba(42, 61, 69, 0.5);
  --radius-card: 12px;
  --radius-pill: 999px;
  --font-display: 'Space Grotesk', system-ui, sans-serif;
  --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
  --transition-swift: 140ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
  /* Spring-like ease: fast out, gentle settle – used for the lift */
  --transition-ease: 320ms cubic-bezier(0.34, 1.56, 0.64, 1);
  --transition-shadow: 320ms cubic-bezier(0.16, 1, 0.3, 1);
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: var(--font-sans);
  /* Aurora gradient – faint teal pulse in the upper-right corner */
  background:
    radial-gradient(ellipse 70% 45% at 75% -5%, rgba(42, 61, 69, 0.45) 0%, transparent 70%),
    radial-gradient(ellipse 50% 30% at 20% 100%, rgba(42, 61, 69, 0.15) 0%, transparent 60%),
    var(--color-bg);
  color: var(--color-text);
  line-height: 1.75;
}

a {
  color: inherit;
}

.page-shell {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.container {
  max-width: 960px;
  margin: 0 auto;
  padding: 2rem 1.5rem 4rem;
}

.site-header {
  position: sticky;
  top: 0;
  z-index: 20;
  backdrop-filter: blur(24px) saturate(160%);
  background: rgba(11, 13, 23, 0.85);
  border-bottom: 1px solid var(--color-border);
}

.site-header-inner {
  max-width: 960px;
  margin: 0 auto;
  padding: 0.85rem 1.5rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1.5rem;
}

.brand {
  display: flex;
  align-items: center;
  gap: 0.8rem;
}

.brand-badge {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  background: var(--gradient-accent);
  box-shadow: 0 0 0 1px rgba(78, 203, 165, 0.18), 0 4px 16px rgba(42, 61, 69, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-highlight);
  padding: 7px;
  flex-shrink: 0;
  transition: transform var(--transition-swift), box-shadow var(--transition-swift);
}

.brand-badge svg {
  width: 100%;
  height: 100%;
  display: block;
}

.brand-badge:hover {
  transform: scale(0.94);
  box-shadow: 0 0 0 3px rgba(78, 203, 165, 0.25), 0 4px 20px rgba(42, 61, 69, 0.6);
}

.site-title a {
  text-decoration: none;
  color: var(--color-primary);
  font-family: var(--font-display);
  font-size: 1.2rem;
  font-weight: 700;
  letter-spacing: -0.01em;
}

.site-description {
  margin: 0.1rem 0 0;
  font-size: 0.8rem;
  color: var(--color-muted);
}

.brand-text {
  display: flex;
  flex-direction: column;
}

.main-nav {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

.main-nav a {
  position: relative;
  display: inline-flex;
  align-items: center;
  padding: 0.3rem 0.75rem;
  border-radius: var(--radius-pill);
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--color-text);
  text-decoration: none;
  background: transparent;
  transition: background var(--transition-swift), color var(--transition-swift);
}

.main-nav a:hover {
  background: var(--color-surface-raised);
  color: var(--color-highlight);
}

.main-nav a.is-active {
  background: var(--color-accent-dim);
  color: var(--color-highlight);
  box-shadow: inset 0 0 0 1px rgba(78, 203, 165, 0.15);
}

.site-footer {
  margin-top: auto;
  padding: 2rem 1.25rem;
  text-align: center;
  font-size: 0.82rem;
  color: var(--color-muted);
  border-top: 1px solid transparent;
  background-image: linear-gradient(var(--color-bg), var(--color-bg)),
    linear-gradient(90deg, transparent 0%, rgba(78,203,165,0.3) 50%, transparent 100%);
  background-origin: border-box;
  background-clip: padding-box, border-box;
}

.layout-main {
  padding-top: 0;
}

/* Hide non-functional UI */
.search-bar {
  display: none;
}

.content-card,
.post-card {
  background: var(--color-surface);
  border-radius: var(--radius-card);
  /* Gradient border via background-clip technique */
  border: 1px solid transparent;
  background-image:
    linear-gradient(var(--color-surface), var(--color-surface)),
    linear-gradient(135deg, rgba(78,203,165,0.18) 0%, rgba(42,61,69,0.3) 50%, transparent 100%);
  background-origin: border-box;
  background-clip: padding-box, border-box;
  padding: 1.5rem 1.75rem;
  position: relative;
  overflow: hidden;
  box-shadow: var(--shadow-card);
}

/* Top accent band */
.post-card::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--color-accent) 0%, var(--color-highlight) 60%, transparent 100%);
  pointer-events: none;
  opacity: 0.7;
  transition: opacity var(--transition-ease), height var(--transition-ease);
}

.content-card {
  background: transparent;
  border: none;
  box-shadow: none;
  padding: 0;
}

/* Post list – stable 2-column grid, works with any number of posts.
   nth-child gives height variation so cards feel like a bento without spans. */
.post-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  grid-auto-rows: auto;
  gap: 1.25rem;
}

.post-list li {
  display: flex;
  flex-direction: column;
}

.post-list li > .post-card {
  flex: 1;
}

/* Bounded height variation — bento feel, no spans, never gaps */
.post-list li:nth-child(4n+1) .post-card { min-height: 290px; }
.post-list li:nth-child(4n+2) .post-card { min-height: 220px; }
.post-list li:nth-child(4n+3) .post-card { min-height: 255px; }
.post-list li:nth-child(4n+4) .post-card { min-height: 230px; }

@media (max-width: 600px) {
  .post-list {
    grid-template-columns: 1fr;
  }
  .post-list li .post-card {
    min-height: 160px;
  }
}

/* Fully clickable post-card via stretch link */
.post-card {
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
  justify-content: flex-start;
  height: 100%;
  transition:
    transform var(--transition-ease),
    box-shadow var(--transition-shadow),
    background-image 240ms ease;
  cursor: pointer;
  border-left: none;
  will-change: transform, box-shadow;
}

/* Shimmer overlay – fades in on hover */
.post-card::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(
    120deg,
    transparent 0%,
    rgba(78, 203, 165, 0.04) 40%,
    rgba(78, 203, 165, 0.08) 60%,
    transparent 100%
  );
  opacity: 0;
  transition: opacity var(--transition-ease);
  pointer-events: none;
  z-index: 0;
}

.post-card:hover {
  /* translateY lifts it, scale(1.025) makes it grow toward you = 3D floating illusion */
  transform: translateY(-14px) scale(1.025);
  box-shadow: var(--shadow-hover);
  background-image:
    linear-gradient(var(--color-surface-raised), var(--color-surface-raised)),
    linear-gradient(135deg, rgba(78,203,165,0.3) 0%, rgba(42,61,69,0.5) 60%, transparent 100%);
}

.post-card:hover::before {
  opacity: 1;
  height: 3px;
}

.post-card:hover::after {
  opacity: 1;
}

.post-card:active {
  /* Snaps back down quickly on click – physical press feel */
  transform: translateY(-4px) scale(1.005);
  box-shadow:
    0 1px 2px rgba(0,0,0,0.9),
    0 4px 8px rgba(0,0,0,0.6),
    0 0 0 1px rgba(78,203,165,0.12);
  transition-duration: 90ms;
  transition-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* Stretch link – title anchor covers the entire card, making it fully clickable */
.post-card-title a {
  text-decoration: none;
  color: inherit;
}

.post-card-title a::after {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 1;
  border-radius: inherit;
}

.post-card-title {
  margin: 0;
  font-family: var(--font-display);
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--color-primary);
  letter-spacing: -0.01em;
  transition: color var(--transition-ease);
  position: relative;
  z-index: 1;
}

.post-card:hover .post-card-title {
  color: var(--color-highlight);
}

.post-card-meta {
  font-size: 0.78rem;
  color: var(--color-muted);
  letter-spacing: 0.02em;
  text-transform: uppercase;
  transition: color var(--transition-ease);
  position: relative;
  z-index: 1;
}

.post-card:hover .post-card-meta {
  color: rgba(78, 203, 165, 0.55);
}

.post-card-excerpt {
  font-size: 0.92rem;
  color: var(--color-text);
  line-height: 1.6;
  transition: color var(--transition-ease);
  position: relative;
  z-index: 1;
}

.post-card:hover .post-card-excerpt {
  color: #c8d4e0;
}

.post-card-link {
  margin-top: auto;
  padding-top: 1rem;
  font-size: 0.84rem;
  font-weight: 500;
  color: var(--color-highlight);
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
  position: relative;
  z-index: 2;
  transition: gap var(--transition-ease), text-shadow var(--transition-ease);
}

.post-card:hover .post-card-link {
  gap: 0.55rem;
  text-shadow: 0 0 18px rgba(78, 203, 165, 0.5);
}

.post-card-link::after {
  content: "→";
  transition: transform var(--transition-ease);
  display: inline-block;
}

.post-card:hover .post-card-link::after {
  transform: translateX(5px);
}

/* Page title area */
.page-title {
  margin: 0 0 0.4rem;
  font-family: var(--font-display);
  font-size: 2.2rem;
  font-weight: 700;
  letter-spacing: -0.03em;
  line-height: 1.15;
  /* Gradient text */
  background: var(--gradient-title);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.page-intro {
  margin: 0 0 2rem;
  font-size: 1rem;
  color: var(--color-muted);
}

/* Single post */
.post {
  max-width: 100%;
}

.post header {
  margin-bottom: 2rem;
  padding-bottom: 1.5rem;
  border-bottom: 1px solid var(--color-border);
}

.post-title {
  margin: 0 0 0.75rem;
  font-family: var(--font-display);
  font-size: 2.4rem;
  font-weight: 700;
  letter-spacing: -0.03em;
  line-height: 1.15;
  /* Gradient text – same family as page title */
  background: var(--gradient-title);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.post-meta {
  font-size: 0.82rem;
  color: var(--color-muted);
  text-transform: uppercase;
  letter-spacing: 0.06em;
}

.post .content {
  font-size: 1.05rem;
  color: var(--color-text);
}

.post .content p {
  margin: 0 0 1.2rem;
}

.post .content h2,
.post .content h3 {
  font-family: var(--font-display);
  text-align: left;
  margin: 2rem 0 0.75rem;
  color: var(--color-primary);
  letter-spacing: -0.02em;
}

.post .content ul,
.post .content ol {
  padding-left: 1.4rem;
}

.post .content li {
  margin-bottom: 0.5rem;
}

.post .content a {
  color: var(--color-highlight);
  text-decoration: underline;
  text-underline-offset: 3px;
  text-decoration-color: rgba(78, 203, 165, 0.4);
}

.post .content a:hover {
  text-decoration-color: var(--color-highlight);
}

/* Accent-tinted blockquote */
.post .content blockquote {
  margin: 1.5rem 0;
  padding: 1rem 1.25rem;
  border-left: 3px solid var(--color-accent-mid);
  background: linear-gradient(90deg, rgba(42,61,69,0.2) 0%, transparent 100%);
  color: var(--color-text);
  font-style: italic;
  border-radius: 0 8px 8px 0;
}

/* Inline code highlight */
.post .content code {
  background: rgba(42, 61, 69, 0.45);
  border: 1px solid rgba(78, 203, 165, 0.15);
  color: var(--color-highlight);
  padding: 0.15em 0.45em;
  border-radius: 4px;
  font-size: 0.88em;
}

/* ============================================================
   SCROLL REVEAL ANIMATIONS
   Cards start hidden; .is-visible is toggled by IntersectionObserver.
   Respects prefers-reduced-motion.
   ============================================================ */

@media (prefers-reduced-motion: no-preference) {

  /* --- Base hidden state for all reveal elements --- */
  [data-reveal] {
    opacity: 0;
    transition:
      opacity 640ms cubic-bezier(0.16, 1, 0.3, 1),
      transform 640ms cubic-bezier(0.16, 1, 0.3, 1);
    /* Stagger cards using --i CSS var set inline */
    transition-delay: calc(var(--i, 0) * 90ms);
  }

  /* --- Revealed state --- */
  [data-reveal].is-visible {
    opacity: 1;
    transform: none !important;
  }

  /* --- Page header: slides up from below --- */
  [data-reveal="header"] {
    transform: translateY(24px);
  }

  /* --- Page intro: softer, slightly later --- */
  [data-reveal="intro"] {
    transform: translateY(14px);
    transition-delay: 120ms;
  }

  /* --- Card: rise + very slight tilt, then snaps upright --- */
  [data-reveal="card"] {
    transform: translateY(36px) scale(0.97);
  }

  /* --- Post body paragraphs/headings: slide in from left --- */
  [data-reveal="content"] {
    transform: translateX(-18px);
    transition-delay: calc(var(--i, 0) * 60ms);
  }

  /* --- Teal underline that sweeps in under the page title --- */
  .page-title {
    position: relative;
  }

  .page-title::after {
    content: "";
    position: absolute;
    bottom: -6px;
    left: 0;
    height: 2px;
    width: 0;
    border-radius: 2px;
    background: linear-gradient(90deg, var(--color-accent), var(--color-highlight) 70%, transparent);
    transition: width 900ms cubic-bezier(0.16, 1, 0.3, 1) 300ms;
    pointer-events: none;
  }

  .is-visible.page-title::after,
  [data-reveal="header"].is-visible ~ * .page-title::after {
    width: 40%;
  }

  /* Trigger sweep when the header wrapper becomes visible */
  [data-reveal="header"].is-visible .page-title::after {
    width: 40%;
  }

} /* end prefers-reduced-motion */

/* Sidebar – hidden (removed from layout) */
.sidebar-card,
aside {
  display: none;
}

.empty-note {
  font-size: 0.88rem;
  color: var(--color-muted);
  font-style: italic;
}

@media (max-width: 640px) {
  .site-header-inner {
    flex-direction: column;
    align-items: flex-start;
  }

  .brand {
    width: 100%;
    justify-content: space-between;
  }

  .main-nav {
    width: 100%;
    justify-content: flex-start;
    flex-wrap: wrap;
  }

  .page-title {
    font-size: 1.7rem;
  }

  .post-title {
    font-size: 1.8rem;
  }
}

h1, h2, h3 {
  font-family: var(--font-display);
  font-weight: 700;
}