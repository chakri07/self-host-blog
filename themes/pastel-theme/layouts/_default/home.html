{{ define "main" }}
  <header data-reveal="header">
    <h1 class="page-title">{{ .Site.Title }}</h1>
    <p class="page-intro" data-reveal="intro">{{ with .Site.Params.description }}{{ . }}{{ else }}Notes, experiments, and small adventures in my hobby.{{ end }}</p>
  </header>

  {{ $posts := where .Site.RegularPages "Type" "in" (slice "posts" "post") }}
  {{ if $posts }}
    <ul class="post-list">
      {{ range $index, $page := first 6 (sort $posts "Date" "desc") }}
        <li>
          <article class="post-card" data-reveal="card" style="--i: {{ $index }}">
            <p class="post-card-meta">{{ $page.Date.Format "Jan 2, 2006" }}</p>
            <h2 class="post-card-title"><a href="{{ $page.RelPermalink }}">{{ $page.Title }}</a></h2>
            {{ with $page.Summary }}
              <p class="post-card-excerpt">{{ . }}</p>
            {{ end }}
            <a class="post-card-link" href="{{ $page.RelPermalink }}">Read post</a>
          </article>
        </li>
      {{ end }}
    </ul>
  {{ else }}
    <p class="empty-note">Once you publish your first post, it will show up here.</p>
  {{ end }}
{{ end }}